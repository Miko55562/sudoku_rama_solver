<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku Update</title>
</head>
<body>
    <table id="sudoku-table">
        <!-- Здесь будет таблица судоку -->
    </table>

    <script>
        // Функция для запроса обновления судоку и обновления таблицы на странице
        function fetchSudoku() {
            fetch('/get_sudoku')  // Здесь указываем URL, по которому сервер возвращает актуальное состояние судоку
                .then(response => response.json())  // Ожидаем JSON-ответ от сервера
                .then(data => updateTable(data))  // Обновляем таблицу судоку
                .catch(error => console.error('Error fetching sudoku:', error));
        }

        // Функция для обновления таблицы судоку на странице
        function updateTable(data) {
            const table = document.getElementById('sudoku-table');
            table.innerHTML = '';  // Очистить таблицу перед обновлением

            // Создаем таблицу из данных
            for (let i = 0; i < 9; i++) {
                const row = table.insertRow();  // Создаем новую строку
                for (let j = 0; j < 9; j++) {
                    const cell = row.insertCell();  // Создаем ячейку в строке
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.value = data[i][j] !== 0 ? data[i][j] : '';  // Если значение не 0, отображаем его
                    input.disabled = true;  // Делаем поля только для чтения
                    cell.appendChild(input);  // Вставляем input в ячейку
                }
            }
        }

        // Запрашиваем обновление каждую половину секунды (500 мс)
        setInterval(fetchSudoku, 500);

        // Изначальный запрос при загрузке страницы
        fetchSudoku();
    </script>
</body>
</html>
